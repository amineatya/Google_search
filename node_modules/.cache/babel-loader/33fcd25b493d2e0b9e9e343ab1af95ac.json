{"ast":null,"code":"import _slicedToArray from\"/Users/amineatya/Desktop/Google_books/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import\"./App.css\";import{InputGroup,Input,InputGroupAddon,Button,FormGroup,Label,Spinner}from\"reactstrap\";import{ToastContainer,toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.min.css\";import axios from\"axios\";import BookCard from\"./BookCard.jsx\";function App(){// States\nvar _useState=useState(10),_useState2=_slicedToArray(_useState,2),maxResults=_useState2[0],setMaxResults=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),startIndex=_useState4[0],setStartIndex=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),query=_useState6[0],setQuery=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),loading=_useState8[0],setLoading=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),cards=_useState10[0],setCards=_useState10[1];// Handle Search\nvar handleSubmit=function handleSubmit(){setLoading(true);if(maxResults>100||maxResults<1){toast.error(\"max results must be between 1 and 40\");}else{axios.get(\"https://www.googleapis.com/books/v1/volumes?q=\".concat(query,\"&maxResults=\").concat(maxResults,\"&startIndex=\").concat(startIndex)).then(function(res){if(startIndex>=res.data.totalItems||startIndex<1){toast.error(\"max reults must be between 1 and \".concat(res.data.totalItems));}else{if(res.data.items.length>0){setCards(res.data.items);setLoading(false);}}}).catch(function(err){setLoading(true);console.log(err.response);});}};// Main Show Case\nvar mainHeader=function mainHeader(){return React.createElement(\"div\",{className:\"main-image d-flex justify-content-center align-items-center flex-column\"},React.createElement(\"div\",{className:\"filter\"}),React.createElement(\"h1\",{className:\"display-2 text-center text-white mb-3\",style:{zIndex:2}},\"Google Books\"),React.createElement(\"div\",{style:{width:\"60%\",zIndex:2}},React.createElement(InputGroup,{size:\"lg\",className:\"mb-3\"},React.createElement(Input,{placeholder:\"Book Search\",value:query,onChange:function onChange(e){return setQuery(e.target.value);}}),React.createElement(InputGroupAddon,{addonType:\"append\"},React.createElement(Button,{color:\"secondary\",onClick:handleSubmit},React.createElement(\"i\",{className:\"fas fa-search\"})))),React.createElement(\"div\",{className:\"d-flex text-white justify-content-center\"},React.createElement(FormGroup,null,React.createElement(Label,{for:\"maxResults\"},\"Max Results\"),React.createElement(Input,{type:\"number\",id:\"maxResults\",placeholder:\"Max Results\",value:maxResults,onChange:function onChange(e){return setMaxResults(e.target.value);}})),React.createElement(FormGroup,{className:\"ml-5\"},React.createElement(Label,{for:\"startIndex\"},\"Start Index\"),React.createElement(Input,{type:\"number\",id:\"startIndex\",placeholder:\"Start Index\",value:startIndex,onChange:function onChange(e){return setStartIndex(e.target.value);}})))));};var handleCards=function handleCards(){if(loading){return React.createElement(\"div\",{className:\"d-flex justify-content-center mt-3\"},React.createElement(Spinner,{style:{width:\"3rem\",height:\"3rem\"}}));}else{var items=cards.map(function(item,i){var thumbnail=\"\";if(item.volumeInfo.imageLinks){thumbnail=item.volumeInfo.imageLinks.thumbnail;}return React.createElement(\"div\",{className:\"col-lg-4 mb-3\",key:item.id},React.createElement(BookCard,{thumbnail:thumbnail,title:item.volumeInfo.title,pageCount:item.volumeInfo.pageCount,language:item.volumeInfo.language,authors:item.volumeInfo.authors,publisher:item.volumeInfo.publisher,description:item.volumeInfo.description,previewLink:item.volumeInfo.previewLink,infoLink:item.volumeInfo.infoLink}));});return React.createElement(\"div\",{className:\"container my-5\"},React.createElement(\"div\",{className:\"row\"},items));}};return React.createElement(\"div\",{className:\"w-100 h-100\"},mainHeader(),handleCards(),React.createElement(ToastContainer,null));}export default App;","map":{"version":3,"sources":["/Users/amineatya/Desktop/Google_books/src/App.jsx"],"names":["React","useState","InputGroup","Input","InputGroupAddon","Button","FormGroup","Label","Spinner","ToastContainer","toast","axios","BookCard","App","maxResults","setMaxResults","startIndex","setStartIndex","query","setQuery","loading","setLoading","cards","setCards","handleSubmit","error","get","then","res","data","totalItems","items","length","catch","err","console","log","response","mainHeader","zIndex","width","e","target","value","handleCards","height","map","item","i","thumbnail","volumeInfo","imageLinks","id","title","pageCount","language","authors","publisher","description","previewLink","infoLink"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport \"./App.css\";\nimport {\n  InputGroup,\n  Input,\n  InputGroupAddon,\n  Button,\n  FormGroup,\n  Label,\n  Spinner,\n} from \"reactstrap\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.min.css\";\nimport axios from \"axios\";\nimport BookCard from \"./BookCard.jsx\";\nfunction App() {\n  // States\n  const [maxResults, setMaxResults] = useState(10);\n  const [startIndex, setStartIndex] = useState(1);\n  const [query, setQuery] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [cards, setCards] = useState([]);\n  // Handle Search\n  const handleSubmit = () => {\n    setLoading(true);\n    if (maxResults > 100 || maxResults < 1) {\n      toast.error(\"max results must be between 1 and 40\");\n    } else {\n      axios\n        .get(\n          `https://www.googleapis.com/books/v1/volumes?q=${query}&maxResults=${maxResults}&startIndex=${startIndex}`\n        )\n        .then((res) => {\n          if (startIndex >= res.data.totalItems || startIndex < 1) {\n            toast.error(\n              `max reults must be between 1 and ${res.data.totalItems}`\n            );\n          } else {\n            if (res.data.items.length > 0) {\n              setCards(res.data.items);\n              setLoading(false);\n            }\n          }\n        })\n        .catch((err) => {\n          setLoading(true);\n          console.log(err.response);\n        });\n    }\n  };\n  // Main Show Case\n  const mainHeader = () => {\n    return (\n      <div className=\"main-image d-flex justify-content-center align-items-center flex-column\">\n        {/* Overlay */}\n        <div className=\"filter\"></div>\n        <h1\n          className=\"display-2 text-center text-white mb-3\"\n          style={{ zIndex: 2 }}\n        >\n          Google Books\n        </h1>\n        <div style={{ width: \"60%\", zIndex: 2 }}>\n          <InputGroup size=\"lg\" className=\"mb-3\">\n            <Input\n              placeholder=\"Book Search\"\n              value={query}\n              onChange={(e) => setQuery(e.target.value)}\n            />\n            <InputGroupAddon addonType=\"append\">\n              <Button color=\"secondary\" onClick={handleSubmit}>\n                <i className=\"fas fa-search\"></i>\n              </Button>\n            </InputGroupAddon>\n          </InputGroup>\n          <div className=\"d-flex text-white justify-content-center\">\n            <FormGroup>\n              <Label for=\"maxResults\">Max Results</Label>\n              <Input\n                type=\"number\"\n                id=\"maxResults\"\n                placeholder=\"Max Results\"\n                value={maxResults}\n                onChange={(e) => setMaxResults(e.target.value)}\n              />\n            </FormGroup>\n            <FormGroup className=\"ml-5\">\n              <Label for=\"startIndex\">Start Index</Label>\n              <Input\n                type=\"number\"\n                id=\"startIndex\"\n                placeholder=\"Start Index\"\n                value={startIndex}\n                onChange={(e) => setStartIndex(e.target.value)}\n              />\n            </FormGroup>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  const handleCards = () => {\n    if (loading) {\n      return (\n        <div className=\"d-flex justify-content-center mt-3\">\n          <Spinner style={{ width: \"3rem\", height: \"3rem\" }} />\n        </div>\n      );\n    } else {\n      const items = cards.map((item, i) => {\n        let thumbnail = \"\";\n        if (item.volumeInfo.imageLinks) {\n          thumbnail = item.volumeInfo.imageLinks.thumbnail;\n        }\n\n        return (\n          <div className=\"col-lg-4 mb-3\" key={item.id}>\n            <BookCard\n              thumbnail={thumbnail}\n              title={item.volumeInfo.title}\n              pageCount={item.volumeInfo.pageCount}\n              language={item.volumeInfo.language}\n              authors={item.volumeInfo.authors}\n              publisher={item.volumeInfo.publisher}\n              description={item.volumeInfo.description}\n              previewLink={item.volumeInfo.previewLink}\n              infoLink={item.volumeInfo.infoLink}\n            />\n          </div>\n        );\n      });\n      return (\n        <div className=\"container my-5\">\n          <div className=\"row\">{items}</div>\n        </div>\n      );\n    }\n  };\n  return (\n    <div className=\"w-100 h-100\">\n      {mainHeader()}\n      {handleCards()}\n      <ToastContainer />\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}